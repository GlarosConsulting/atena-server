# Migration `20200630141712-initial`

This migration has been generated by Andr√© 'Dezzy' at 6/30/2020, 2:17:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."agreements" (
"agreementId" text   ,"city" text   ,"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"end" timestamp(3)   ,"id" text  NOT NULL ,"name" text   ,"program" text   ,"start" timestamp(3)   ,"status" text   ,"uf" text   ,"updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."proposals_data" (
"agreementId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."agreements_data" (
"biddingDate" timestamp(3)   ,"categories" text   ,"contractingStatus" text   ,"description" text   ,"homologationDate" timestamp(3)   ,"id" text  NOT NULL ,"information" text   ,"justification" text   ,"legalFoundation" text   ,"linkedOrgan" text   ,"modality" text   ,"object" text   ,"organ" text   ,"organId" text   ,"problem" text   ,"processId" text   ,"proponent" text   ,"proposalAndObjectivesRelation" text   ,"proposalDataId" text   ,"proposalDate" timestamp(3)   ,"proposalId" text   ,"result" text   ,"targetAudience" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."status" (
"committed" text   ,"dataId" text   ,"id" text  NOT NULL ,"publication" text   ,"value" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."programs" (
"id" text  NOT NULL ,"name" text   ,"programId" text   ,"proposalDataId" text   ,"value" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."programs_details" (
"code" text   ,"couterpartRule" text   ,"cps" text   ,"id" text  NOT NULL ,"items" text   ,"name" text   ,"programId" text   ,"totalValue" Decimal(65,30)   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."programs_details_counterpart_values" (
"assetsAndServices" Decimal(65,30)   ,"financial" Decimal(65,30)   ,"id" text  NOT NULL ,"programDetailsId" text   ,"total" Decimal(65,30)   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."programs_details_transfer_values" (
"amendment" text   ,"id" text  NOT NULL ,"programDetailsId" text   ,"total" Decimal(65,30)   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."participants" (
"grantor" text   ,"id" text  NOT NULL ,"proponent" text   ,"proposalDataId" text   ,"respGrantor" text   ,"respProponent" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."work_plans" (
"agreementId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."physical_chronos" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."physical_chrono_items" (
"endDate" timestamp(3)   ,"goalId" integer   ,"id" text  NOT NULL ,"income" text   ,"physicalChronoId" text   ,"specification" text   ,"startDate" timestamp(3)   ,"value" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."physical_chrono_values" (
"global" Decimal(65,30)   DEFAULT 0,"id" text  NOT NULL ,"physicalChronoId" text   ,"register" Decimal(65,30)   DEFAULT 0,"registered" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."disbursement_chronos" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."disbursement_chrono_item" (
"disbursementChronoId" text   ,"id" text  NOT NULL ,"month" text   ,"portionId" integer   ,"type" text   ,"value" Decimal(65,30)   DEFAULT 0,"year" integer   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."disbursement_chrono_values" (
"disbursementChronoId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."disbursement_chrono_value" (
"convenient" Decimal(65,30)   DEFAULT 0,"granting" Decimal(65,30)   DEFAULT 0,"id" text  NOT NULL ,"registerValueOf" text   ,"registeredValueOf" text   ,"totalValueOf" text   ,"yield" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."detailed_application_plans" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."detailed_application_plan_items" (
"amount" Decimal(65,30)   DEFAULT 0,"description" text   ,"detailedApplicationPlanId" text   ,"id" text  NOT NULL ,"natureAcquisition" text   ,"natureExpenseCode" integer   ,"status" text   ,"totalValue" Decimal(65,30)   DEFAULT 0,"type" text   ,"un" text   ,"unitValue" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."detailed_application_plan_values" (
"detailedApplicationPlanId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."detailed_application_plan_value" (
"administrativeValueOf" text   ,"assetsValueOf" text   ,"constructionValueOf" text   ,"counterpart" Decimal(65,30)   DEFAULT 0,"id" text  NOT NULL ,"othersValueOf" text   ,"resource" Decimal(65,30)   DEFAULT 0,"servicesValueOf" text   ,"total" Decimal(65,30)   DEFAULT 0,"totalValueId" text   ,"tributesValueOf" text   ,"yield" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."consolidated_application_plans" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."consolidated_application_plan_items" (
"classification" text   ,"counterpart" Decimal(65,30)   DEFAULT 0,"id" text  NOT NULL ,"listItemOf" text   ,"resources" Decimal(65,30)   DEFAULT 0,"total" Decimal(65,30)   DEFAULT 0,"totalItemOf" text   ,"yield" Decimal(65,30)   DEFAULT 0,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."attachments" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."attachment" (
"date" timestamp(3)   ,"description" text   ,"executionAttachmentOf" text   ,"id" text  NOT NULL ,"name" text   ,"proposalAttachmentOf" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."notions" (
"id" text  NOT NULL ,"workPlanId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."notion_item" (
"assignment" text   ,"date" timestamp(3)   ,"executionNotionItemOf" text   ,"id" text  NOT NULL ,"occupation" text   ,"proposalNotionItemOf" text   ,"responsible" text   ,"type" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."convenient_execution" (
"agreementId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."execution_processes" (
"accepted" text   ,"convenientExecutionId" text  NOT NULL ,"date" timestamp(3)   ,"executionId" text   ,"id" text  NOT NULL ,"processId" text   ,"status" text   ,"system" text   ,"systemStatus" text   ,"type" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."execution_processes_details" (
"accepted" text   ,"analysisDate" timestamp(3)   ,"beginDate" timestamp(3)   ,"biddingId" text   ,"biddingType" text   ,"biddingValue" Decimal(65,30)   ,"buyType" text   ,"city" text   ,"endDate" timestamp(3)   ,"executionProcess" text   ,"executionProcessRelId" text  NOT NULL ,"financialResource" text   ,"homologationDate" timestamp(3)   ,"id" text  NOT NULL ,"justification" text   ,"legalFoundation" text   ,"modality" text   ,"object" text   ,"origin" text   ,"processId" text   ,"publishDate" timestamp(3)   ,"status" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."contracts" (
"biddingId" text   ,"contractId" text   ,"convenientExecutionId" text  NOT NULL ,"date" timestamp(3)   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."contracts_details" (
"beginDate" timestamp(3)   ,"biddingModality" text   ,"contractId" text  NOT NULL ,"endDate" timestamp(3)   ,"executionProcessId" text   ,"hiredDocument" text   ,"hirerDocument" text   ,"id" text  NOT NULL ,"object" text   ,"processId" text   ,"publishDate" timestamp(3)   ,"signDate" timestamp(3)   ,"totalValue" Decimal(65,30)   ,"type" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."accountabilities" (
"agreementId" text   ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."accountabilities_data" (
"accountabiltyId" text   ,"convenient" text   ,"counterpartValue" Decimal(65,30)   ,"documentNumber" text   ,"id" text  NOT NULL ,"limitDate" timestamp(3)   ,"modality" text   ,"number" text   ,"organ" text   ,"status" text   ,"totalValue" Decimal(65,30)   ,"transferValue" Decimal(65,30)   ,"validity" text   ,"yieldValue" Decimal(65,30)   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."_ListConsolidatedApplicationPlanItems" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_ProposalAttachments" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_ExecutionAttachments" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_ProposalNotionItems" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_WorkPlanNotionItems" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE UNIQUE INDEX "proposals_data_agreementId" ON "public"."proposals_data"("agreementId")

CREATE UNIQUE INDEX "agreements_data_proposalDataId" ON "public"."agreements_data"("proposalDataId")

CREATE UNIQUE INDEX "status_dataId" ON "public"."status"("dataId")

CREATE UNIQUE INDEX "programs_details_programId" ON "public"."programs_details"("programId")

CREATE UNIQUE INDEX "programs_details_counterpart_values_programDetailsId" ON "public"."programs_details_counterpart_values"("programDetailsId")

CREATE UNIQUE INDEX "programs_details_transfer_values_programDetailsId" ON "public"."programs_details_transfer_values"("programDetailsId")

CREATE UNIQUE INDEX "participants_proposalDataId" ON "public"."participants"("proposalDataId")

CREATE UNIQUE INDEX "work_plans_agreementId" ON "public"."work_plans"("agreementId")

CREATE UNIQUE INDEX "physical_chronos_workPlanId" ON "public"."physical_chronos"("workPlanId")

CREATE UNIQUE INDEX "physical_chrono_values_physicalChronoId" ON "public"."physical_chrono_values"("physicalChronoId")

CREATE UNIQUE INDEX "disbursement_chronos_workPlanId" ON "public"."disbursement_chronos"("workPlanId")

CREATE UNIQUE INDEX "disbursement_chrono_values_disbursementChronoId" ON "public"."disbursement_chrono_values"("disbursementChronoId")

CREATE UNIQUE INDEX "disbursement_chrono_value_registeredValueOf" ON "public"."disbursement_chrono_value"("registeredValueOf")

CREATE UNIQUE INDEX "disbursement_chrono_value_registerValueOf" ON "public"."disbursement_chrono_value"("registerValueOf")

CREATE UNIQUE INDEX "disbursement_chrono_value_totalValueOf" ON "public"."disbursement_chrono_value"("totalValueOf")

CREATE UNIQUE INDEX "detailed_application_plans_workPlanId" ON "public"."detailed_application_plans"("workPlanId")

CREATE UNIQUE INDEX "detailed_application_plan_values_detailedApplicationPlanId" ON "public"."detailed_application_plan_values"("detailedApplicationPlanId")

CREATE UNIQUE INDEX "detailed_application_plan_value_assetsValueOf" ON "public"."detailed_application_plan_value"("assetsValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_tributesValueOf" ON "public"."detailed_application_plan_value"("tributesValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_constructionValueOf" ON "public"."detailed_application_plan_value"("constructionValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_servicesValueOf" ON "public"."detailed_application_plan_value"("servicesValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_othersValueOf" ON "public"."detailed_application_plan_value"("othersValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_administrativeValueOf" ON "public"."detailed_application_plan_value"("administrativeValueOf")

CREATE UNIQUE INDEX "detailed_application_plan_value_totalValueId" ON "public"."detailed_application_plan_value"("totalValueId")

CREATE UNIQUE INDEX "consolidated_application_plans_workPlanId" ON "public"."consolidated_application_plans"("workPlanId")

CREATE UNIQUE INDEX "consolidated_application_plan_items_totalItemOf" ON "public"."consolidated_application_plan_items"("totalItemOf")

CREATE UNIQUE INDEX "attachments_workPlanId" ON "public"."attachments"("workPlanId")

CREATE UNIQUE INDEX "notions_workPlanId" ON "public"."notions"("workPlanId")

CREATE UNIQUE INDEX "convenient_execution_agreementId" ON "public"."convenient_execution"("agreementId")

CREATE UNIQUE INDEX "execution_processes_details_executionProcessRelId" ON "public"."execution_processes_details"("executionProcessRelId")

CREATE UNIQUE INDEX "contracts_details_contractId" ON "public"."contracts_details"("contractId")

CREATE UNIQUE INDEX "accountabilities_agreementId" ON "public"."accountabilities"("agreementId")

CREATE UNIQUE INDEX "accountabilities_data_accountabiltyId" ON "public"."accountabilities_data"("accountabiltyId")

CREATE UNIQUE INDEX "_ListConsolidatedApplicationPlanItems_AB_unique" ON "public"."_ListConsolidatedApplicationPlanItems"("A","B")

CREATE  INDEX "_ListConsolidatedApplicationPlanItems_B_index" ON "public"."_ListConsolidatedApplicationPlanItems"("B")

CREATE UNIQUE INDEX "_ProposalAttachments_AB_unique" ON "public"."_ProposalAttachments"("A","B")

CREATE  INDEX "_ProposalAttachments_B_index" ON "public"."_ProposalAttachments"("B")

CREATE UNIQUE INDEX "_ExecutionAttachments_AB_unique" ON "public"."_ExecutionAttachments"("A","B")

CREATE  INDEX "_ExecutionAttachments_B_index" ON "public"."_ExecutionAttachments"("B")

CREATE UNIQUE INDEX "_ProposalNotionItems_AB_unique" ON "public"."_ProposalNotionItems"("A","B")

CREATE  INDEX "_ProposalNotionItems_B_index" ON "public"."_ProposalNotionItems"("B")

CREATE UNIQUE INDEX "_WorkPlanNotionItems_AB_unique" ON "public"."_WorkPlanNotionItems"("A","B")

CREATE  INDEX "_WorkPlanNotionItems_B_index" ON "public"."_WorkPlanNotionItems"("B")

ALTER TABLE "public"."proposals_data" ADD FOREIGN KEY ("agreementId")REFERENCES "public"."agreements"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."agreements_data" ADD FOREIGN KEY ("proposalDataId")REFERENCES "public"."proposals_data"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."status" ADD FOREIGN KEY ("dataId")REFERENCES "public"."agreements_data"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."programs" ADD FOREIGN KEY ("proposalDataId")REFERENCES "public"."proposals_data"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."programs_details" ADD FOREIGN KEY ("programId")REFERENCES "public"."programs"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."programs_details_counterpart_values" ADD FOREIGN KEY ("programDetailsId")REFERENCES "public"."programs_details"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."programs_details_transfer_values" ADD FOREIGN KEY ("programDetailsId")REFERENCES "public"."programs_details"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."participants" ADD FOREIGN KEY ("proposalDataId")REFERENCES "public"."proposals_data"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."work_plans" ADD FOREIGN KEY ("agreementId")REFERENCES "public"."agreements"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."physical_chronos" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."physical_chrono_items" ADD FOREIGN KEY ("physicalChronoId")REFERENCES "public"."physical_chronos"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."physical_chrono_values" ADD FOREIGN KEY ("physicalChronoId")REFERENCES "public"."physical_chronos"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chronos" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chrono_item" ADD FOREIGN KEY ("disbursementChronoId")REFERENCES "public"."disbursement_chronos"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chrono_values" ADD FOREIGN KEY ("disbursementChronoId")REFERENCES "public"."disbursement_chronos"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chrono_value" ADD FOREIGN KEY ("registeredValueOf")REFERENCES "public"."disbursement_chrono_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chrono_value" ADD FOREIGN KEY ("registerValueOf")REFERENCES "public"."disbursement_chrono_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."disbursement_chrono_value" ADD FOREIGN KEY ("totalValueOf")REFERENCES "public"."disbursement_chrono_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plans" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_items" ADD FOREIGN KEY ("detailedApplicationPlanId")REFERENCES "public"."detailed_application_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_values" ADD FOREIGN KEY ("detailedApplicationPlanId")REFERENCES "public"."detailed_application_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("assetsValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("tributesValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("constructionValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("servicesValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("othersValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("administrativeValueOf")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."detailed_application_plan_value" ADD FOREIGN KEY ("totalValueId")REFERENCES "public"."detailed_application_plan_values"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."consolidated_application_plans" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."consolidated_application_plan_items" ADD FOREIGN KEY ("listItemOf")REFERENCES "public"."consolidated_application_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."consolidated_application_plan_items" ADD FOREIGN KEY ("totalItemOf")REFERENCES "public"."consolidated_application_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."attachments" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."attachment" ADD FOREIGN KEY ("proposalAttachmentOf")REFERENCES "public"."attachments"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."attachment" ADD FOREIGN KEY ("executionAttachmentOf")REFERENCES "public"."attachments"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."notions" ADD FOREIGN KEY ("workPlanId")REFERENCES "public"."work_plans"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."notion_item" ADD FOREIGN KEY ("proposalNotionItemOf")REFERENCES "public"."notions"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."notion_item" ADD FOREIGN KEY ("executionNotionItemOf")REFERENCES "public"."notions"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."convenient_execution" ADD FOREIGN KEY ("agreementId")REFERENCES "public"."agreements"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."execution_processes" ADD FOREIGN KEY ("convenientExecutionId")REFERENCES "public"."convenient_execution"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."execution_processes_details" ADD FOREIGN KEY ("executionProcessRelId")REFERENCES "public"."execution_processes"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."contracts" ADD FOREIGN KEY ("convenientExecutionId")REFERENCES "public"."convenient_execution"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."contracts_details" ADD FOREIGN KEY ("contractId")REFERENCES "public"."contracts"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."accountabilities" ADD FOREIGN KEY ("agreementId")REFERENCES "public"."agreements"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."accountabilities_data" ADD FOREIGN KEY ("accountabiltyId")REFERENCES "public"."accountabilities"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."_ListConsolidatedApplicationPlanItems" ADD FOREIGN KEY ("A")REFERENCES "public"."consolidated_application_plans"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ListConsolidatedApplicationPlanItems" ADD FOREIGN KEY ("B")REFERENCES "public"."consolidated_application_plan_items"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ProposalAttachments" ADD FOREIGN KEY ("A")REFERENCES "public"."attachment"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ProposalAttachments" ADD FOREIGN KEY ("B")REFERENCES "public"."attachments"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ExecutionAttachments" ADD FOREIGN KEY ("A")REFERENCES "public"."attachment"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ExecutionAttachments" ADD FOREIGN KEY ("B")REFERENCES "public"."attachments"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ProposalNotionItems" ADD FOREIGN KEY ("A")REFERENCES "public"."notion_item"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ProposalNotionItems" ADD FOREIGN KEY ("B")REFERENCES "public"."notions"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_WorkPlanNotionItems" ADD FOREIGN KEY ("A")REFERENCES "public"."notion_item"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_WorkPlanNotionItems" ADD FOREIGN KEY ("B")REFERENCES "public"."notions"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200630141712-initial
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,498 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "postgresql"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model Agreement {
+  @@map(name: "agreements")
+
+  id                  String               @default(uuid()) @id
+  agreementId         String?
+  uf                  String?
+  city                String?
+  name                String?
+  status              String?
+  start               DateTime?
+  end                 DateTime?
+  program             String?
+  proposalData        ProposalData?
+  workPlan            WorkPlan?
+  convenientExecution ConvenientExecution?
+  accountability      Accountability?
+
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now())
+}
+
+model ProposalData {
+  @@map(name: "proposals_data")
+
+  id           String        @default(uuid()) @id
+  agreement    Agreement?    @relation(fields: [agreementId], references: [id])
+  agreementId  String?
+  data         Data?
+  programs     Program[]
+  participants Participants?
+}
+
+model Data {
+  @@map(name: "agreements_data")
+
+  id                            String        @default(uuid()) @id
+  proposalData                  ProposalData? @relation(fields: [proposalDataId], references: [id])
+  proposalDataId                String?
+  modality                      String?
+  contractingStatus             String?
+  status                        Status
+  proposalId                    String?
+  organId                       String?
+  processId                     String?
+  proponent                     String?
+  legalFoundation               String?
+  organ                         String?
+  linkedOrgan                   String?
+  description                   String?
+  justification                 String?
+  targetAudience                String?
+  problem                       String?
+  result                        String?
+  proposalAndObjectivesRelation String?
+  categories                    String?
+  object                        String?
+  information                   String?
+  proposalDate                  DateTime?
+  biddingDate                   DateTime?
+  homologationDate              DateTime?
+}
+
+model Status {
+  @@map(name: "status")
+
+  id          String  @default(uuid()) @id
+  data        Data?   @relation(fields: [dataId], references: [id])
+  dataId      String?
+  value       String?
+  committed   String?
+  publication String?
+}
+
+model Program {
+  @@map(name: "programs")
+
+  id             String          @default(uuid()) @id
+  proposalData   ProposalData?   @relation(fields: [proposalDataId], references: [id])
+  proposalDataId String?
+  programId      String?
+  name           String?
+  value          Float?          @default(0)
+  details        ProgramDetails?
+}
+
+model ProgramDetails {
+  @@map(name: "programs_details")
+
+  id               String                           @default(uuid()) @id
+  program          Program?                         @relation(fields: [programId], references: [id])
+  programId        String?
+  code             String?
+  name             String?
+  cps              String?
+  items            String?
+  couterpartRule   String?
+  totalValue       Float?
+  couterpartValues ProgramDetailsCounterpartValues?
+  transferValues   ProgramDetailsTransferValues?
+}
+
+model ProgramDetailsCounterpartValues {
+  @@map(name: "programs_details_counterpart_values")
+
+  id                String          @default(uuid()) @id
+  programDetails    ProgramDetails? @relation(fields: [programDetailsId], references: [id])
+  programDetailsId  String?
+  total             Float?
+  financial         Float?
+  assetsAndServices Float?
+}
+
+model ProgramDetailsTransferValues {
+  @@map(name: "programs_details_transfer_values")
+
+  id               String          @default(uuid()) @id
+  programDetails   ProgramDetails? @relation(fields: [programDetailsId], references: [id])
+  programDetailsId String?
+  total            Float?
+  amendment        String?
+}
+
+model Participants {
+  @@map(name: "participants")
+
+  id             String        @default(uuid()) @id
+  proposalData   ProposalData? @relation(fields: [proposalDataId], references: [id])
+  proposalDataId String?
+  proponent      String?
+  respProponent  String?
+  grantor        String?
+  respGrantor    String?
+}
+
+model WorkPlan {
+  @@map(name: "work_plans")
+
+  id                          String                       @default(uuid()) @id
+  agreement                   Agreement?                   @relation(fields: [agreementId], references: [id])
+  agreementId                 String?
+  physicalChrono              PhysicalChrono?
+  disbursementChrono          DisbursementChrono?
+  detailedApplicationPlan     DetailedApplicationPlan?
+  consolidatedApplicationPlan ConsolidatedApplicationPlan?
+  attachments                 Attachments?
+  notions                     Notions?
+}
+
+model PhysicalChrono {
+  @@map(name: "physical_chronos")
+
+  id         String                @default(uuid()) @id
+  workPlan   WorkPlan?             @relation(fields: [workPlanId], references: [id])
+  workPlanId String?
+  list       PhysicalChronoItem[]
+  values     PhysicalChronoValues?
+}
+
+model PhysicalChronoItem {
+  @@map(name: "physical_chrono_items")
+
+  id               String          @default(uuid()) @id
+  physicalChrono   PhysicalChrono? @relation(fields: [physicalChronoId], references: [id])
+  physicalChronoId String?
+  goalId           Int?
+  specification    String?
+  value            Float?          @default(0)
+  startDate        DateTime?
+  endDate          DateTime?
+  income           String?
+}
+
+model PhysicalChronoValues {
+  @@map(name: "physical_chrono_values")
+
+  id               String          @default(uuid()) @id
+  physicalChrono   PhysicalChrono? @relation(fields: [physicalChronoId], references: [id])
+  physicalChronoId String?
+  registered       Float?          @default(0)
+  register         Float?          @default(0)
+  global           Float?          @default(0)
+}
+
+model DisbursementChrono {
+  @@map(name: "disbursement_chronos")
+
+  id         String                    @default(uuid()) @id
+  workPlan   WorkPlan?                 @relation(fields: [workPlanId], references: [id])
+  workPlanId String?
+  list       DisbursementChronoItem[]
+  values     DisbursementChronoValues?
+}
+
+model DisbursementChronoItem {
+  @@map(name: "disbursement_chrono_item")
+
+  id                   String              @default(uuid()) @id
+  disbursementChrono   DisbursementChrono? @relation(fields: [disbursementChronoId], references: [id])
+  disbursementChronoId String?
+  portionId            Int?
+  type                 String?
+  month                String?
+  year                 Int?
+  value                Float?              @default(0)
+}
+
+model DisbursementChronoValues {
+  @@map(name: "disbursement_chrono_values")
+
+  id                   String                  @default(uuid()) @id
+  disbursementChrono   DisbursementChrono?     @relation(fields: [disbursementChronoId], references: [id])
+  disbursementChronoId String?
+  registered           DisbursementChronoValue @relation("RegisteredDisbursementChronoValue")
+  register             DisbursementChronoValue @relation("RegisterDisbursementChronoValue")
+  total                DisbursementChronoValue @relation("TotalDisbursementChronoValue")
+}
+
+model DisbursementChronoValue {
+  @@map(name: "disbursement_chrono_value")
+
+  id                String                    @default(uuid()) @id
+  registeredValue   DisbursementChronoValues? @relation("RegisteredDisbursementChronoValue", fields: [registeredValueOf], references: [id])
+  registeredValueOf String?
+  registerValue     DisbursementChronoValues? @relation("RegisterDisbursementChronoValue", fields: [registerValueOf], references: [id])
+  registerValueOf   String?
+  totalValue        DisbursementChronoValues? @relation("TotalDisbursementChronoValue", fields: [totalValueOf], references: [id])
+  totalValueOf      String?
+  granting          Float?                    @default(0)
+  convenient        Float?                    @default(0)
+  yield             Float?                    @default(0)
+}
+
+model DetailedApplicationPlan {
+  @@map(name: "detailed_application_plans")
+
+  id         String                         @default(uuid()) @id
+  workPlan   WorkPlan?                      @relation(fields: [workPlanId], references: [id])
+  workPlanId String?
+  list       DetailedApplicationPlanItem[]
+  values     DetailedApplicationPlanValues?
+}
+
+model DetailedApplicationPlanItem {
+  @@map(name: "detailed_application_plan_items")
+
+  id                        String                   @default(uuid()) @id
+  detailedApplicationPlan   DetailedApplicationPlan? @relation(fields: [detailedApplicationPlanId], references: [id])
+  detailedApplicationPlanId String?
+  type                      String?
+  description               String?
+  natureExpenseCode         Int?
+  natureAcquisition         String?
+  un                        String?
+  amount                    Float?                   @default(0)
+  unitValue                 Float?                   @default(0)
+  totalValue                Float?                   @default(0)
+  status                    String?
+}
+
+model DetailedApplicationPlanValues {
+  @@map(name: "detailed_application_plan_values")
+
+  id                        String                       @default(uuid()) @id
+  detailedApplicationPlan   DetailedApplicationPlan?     @relation(fields: [detailedApplicationPlanId], references: [id])
+  detailedApplicationPlanId String?
+  assets                    DetailedApplicationPlanValue @relation("AssetsDetailedApplicationPlanValue")
+  tributes                  DetailedApplicationPlanValue @relation("TributesDetailedApplicationPlanValue")
+  construction              DetailedApplicationPlanValue @relation("ConstructionDetailedApplicationPlanValue")
+  services                  DetailedApplicationPlanValue @relation("ServicesDetailedApplicationPlanValue")
+  others                    DetailedApplicationPlanValue @relation("OthersDetailedApplicationPlanValue")
+  administrative            DetailedApplicationPlanValue @relation("AdministrativeDetailedApplicationPlanValue")
+  total                     DetailedApplicationPlanValue @relation("TotalDetailedApplicationPlanValue")
+}
+
+model DetailedApplicationPlanValue {
+  @@map(name: "detailed_application_plan_value")
+
+  id                    String                         @default(uuid()) @id
+  assetsValue           DetailedApplicationPlanValues? @relation("AssetsDetailedApplicationPlanValue", fields: [assetsValueOf], references: [id])
+  assetsValueOf         String?
+  tributesValue         DetailedApplicationPlanValues? @relation("TributesDetailedApplicationPlanValue", fields: [tributesValueOf], references: [id])
+  tributesValueOf       String?
+  constructionValue     DetailedApplicationPlanValues? @relation("ConstructionDetailedApplicationPlanValue", fields: [constructionValueOf], references: [id])
+  constructionValueOf   String?
+  servicesValue         DetailedApplicationPlanValues? @relation("ServicesDetailedApplicationPlanValue", fields: [servicesValueOf], references: [id])
+  servicesValueOf       String?
+  othersValue           DetailedApplicationPlanValues? @relation("OthersDetailedApplicationPlanValue", fields: [othersValueOf], references: [id])
+  othersValueOf         String?
+  administrativeValue   DetailedApplicationPlanValues? @relation("AdministrativeDetailedApplicationPlanValue", fields: [administrativeValueOf], references: [id])
+  administrativeValueOf String?
+  totalValue            DetailedApplicationPlanValues? @relation("TotalDetailedApplicationPlanValue", fields: [totalValueId], references: [id])
+  totalValueId          String?
+  total                 Float?                         @default(0)
+  resource              Float?                         @default(0)
+  counterpart           Float?                         @default(0)
+  yield                 Float?                         @default(0)
+}
+
+model ConsolidatedApplicationPlan {
+  @@map(name: "consolidated_application_plans")
+
+  id         String                            @default(uuid()) @id
+  workPlan   WorkPlan?                         @relation(fields: [workPlanId], references: [id])
+  workPlanId String?
+  list       ConsolidatedApplicationPlanItem[] @relation("ListConsolidatedApplicationPlanItems")
+  total      ConsolidatedApplicationPlanItem   @relation("TotalConsolidatedApplicationPlanItems")
+}
+
+model ConsolidatedApplicationPlanItem {
+  @@map(name: "consolidated_application_plan_items")
+
+  id             String                        @default(uuid()) @id
+  listItem       ConsolidatedApplicationPlan[] @relation("ListConsolidatedApplicationPlanItems", fields: [listItemOf], references: [id])
+  listItemOf     String?
+  totalItem      ConsolidatedApplicationPlan?  @relation("TotalConsolidatedApplicationPlanItems", fields: [totalItemOf], references: [id])
+  totalItemOf    String?
+  classification String?
+  resources      Float?                        @default(0)
+  counterpart    Float?                        @default(0)
+  yield          Float?                        @default(0)
+  total          Float?                        @default(0)
+}
+
+model Attachments {
+  @@map(name: "attachments")
+
+  id            String       @default(uuid()) @id
+  workPlan      WorkPlan?    @relation(fields: [workPlanId], references: [id])
+  workPlanId    String?
+  proposalList  Attachment[] @relation("ProposalAttachments")
+  executionList Attachment[] @relation("ExecutionAttachments")
+}
+
+model Attachment {
+  @@map(name: "attachment")
+
+  id                    String        @default(uuid()) @id
+  proposalAttachment    Attachments[] @relation("ProposalAttachments", fields: [proposalAttachmentOf], references: [id])
+  proposalAttachmentOf  String?
+  executionAttachment   Attachments[] @relation("ExecutionAttachments", fields: [executionAttachmentOf], references: [id])
+  executionAttachmentOf String?
+  name                  String?
+  description           String?
+  date                  DateTime?
+}
+
+model Notions {
+  @@map(name: "notions")
+
+  id           String       @default(uuid()) @id
+  workPlan     WorkPlan?    @relation(fields: [workPlanId], references: [id])
+  workPlanId   String?
+  proposalList NotionItem[] @relation("ProposalNotionItems")
+  workPlanList NotionItem[] @relation("WorkPlanNotionItems")
+}
+
+model NotionItem {
+  @@map(name: "notion_item")
+
+  id                    String    @default(uuid()) @id
+  proposalNotionItem    Notions[] @relation("ProposalNotionItems", fields: [proposalNotionItemOf], references: [id])
+  proposalNotionItemOf  String?
+  executionNotionItem   Notions[] @relation("WorkPlanNotionItems", fields: [executionNotionItemOf], references: [id])
+  executionNotionItemOf String?
+  date                  DateTime?
+  type                  String?
+  responsible           String?
+  assignment            String?
+  occupation            String?
+}
+
+model ConvenientExecution {
+  @@map(name: "convenient_execution")
+
+  id                 String             @default(uuid()) @id
+  agreement          Agreement?         @relation(fields: [agreementId], references: [id])
+  agreementId        String?
+  executionProcesses ExecutionProcess[]
+  contracts          Contract[]
+}
+
+model ExecutionProcess {
+  @@map(name: "execution_processes")
+
+  id                    String                   @default(uuid()) @id
+  convenientExecution   ConvenientExecution      @relation(fields: [convenientExecutionId], references: [id])
+  convenientExecutionId String
+  executionId           String?
+  type                  String?
+  date                  DateTime?
+  processId             String?
+  status                String?
+  systemStatus          String?
+  system                String?
+  accepted              String?
+  details               ExecutionProcessDetails?
+}
+
+model ExecutionProcessDetails {
+  @@map(name: "execution_processes_details")
+
+  id                    String           @default(uuid()) @id
+  executionProcessRel   ExecutionProcess @relation(fields: [executionProcessRelId], references: [id])
+  executionProcessRelId String
+  executionProcess      String?
+  buyType               String?
+  status                String?
+  origin                String?
+  financialResource     String?
+  modality              String?
+  biddingType           String?
+  processId             String?
+  biddingId             String?
+  object                String?
+  legalFoundation       String?
+  justification         String?
+  publishDate           DateTime?
+  beginDate             DateTime?
+  endDate               DateTime?
+  biddingValue          Float?
+  homologationDate      DateTime?
+  city                  String?
+  analysisDate          DateTime?
+  accepted              String?
+}
+
+model Contract {
+  @@map(name: "contracts")
+
+  id                    String              @default(uuid()) @id
+  convenientExecution   ConvenientExecution @relation(fields: [convenientExecutionId], references: [id])
+  convenientExecutionId String
+  contractId            String?
+  biddingId             String?
+  date                  DateTime?
+  details               ContractDetails?
+}
+
+model ContractDetails {
+  @@map(name: "contracts_details")
+
+  id                 String    @default(uuid()) @id
+  contract           Contract  @relation(fields: [contractId], references: [id])
+  contractId         String
+  hiredDocument      String?
+  hirerDocument      String?
+  type               String?
+  object             String?
+  totalValue         Float?
+  publishDate        DateTime?
+  beginDate          DateTime?
+  endDate            DateTime?
+  signDate           DateTime?
+  executionProcessId String?
+  biddingModality    String?
+  processId          String?
+}
+
+model Accountability {
+  @@map(name: "accountabilities")
+
+  id          String              @default(uuid()) @id
+  agreement   Agreement?          @relation(fields: [agreementId], references: [id])
+  agreementId String?
+  data        AccountabilityData?
+}
+
+model AccountabilityData {
+  @@map(name: "accountabilities_data")
+
+  id               String          @default(uuid()) @id
+  accountabilty    Accountability? @relation(fields: [accountabiltyId], references: [id])
+  accountabiltyId  String?
+  organ            String?
+  convenient       String?
+  documentNumber   String?
+  modality         String?
+  status           String?
+  number           String?
+  validity         String?
+  limitDate        DateTime?
+  totalValue       Float?
+  transferValue    Float?
+  counterpartValue Float?
+  yieldValue       Float?
+}
```


